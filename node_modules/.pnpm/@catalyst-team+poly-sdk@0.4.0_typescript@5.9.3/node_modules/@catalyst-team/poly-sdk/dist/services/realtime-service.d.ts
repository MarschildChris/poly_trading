/**
 * Realtime Service (Legacy Wrapper)
 *
 * This is a backward-compatible wrapper around RealtimeServiceV2.
 *
 * @deprecated Use RealtimeServiceV2 directly for full functionality.
 */
import type { PriceUpdate, BookUpdate } from '../core/types.js';
export interface Subscription {
    id: string;
    assetIds: string[];
    unsubscribe: () => Promise<void>;
}
export interface MarketSubscriptionHandlers {
    onPriceUpdate?: (update: PriceUpdate) => void;
    onBookUpdate?: (update: BookUpdate) => void;
    onLastTrade?: (trade: {
        assetId: string;
        price: number;
        side: 'BUY' | 'SELL';
        size: number;
        timestamp: number;
    }) => void;
    onError?: (error: Error) => void;
}
/**
 * @deprecated Use RealtimeServiceV2 instead for full topic support.
 */
export declare class RealtimeService {
    private v2Service;
    private subscriptions;
    private subscriptionIdCounter;
    private priceCache;
    private bookCache;
    constructor();
    /**
     * Subscribe to market price updates
     * @param assetIds - Token IDs to subscribe to
     * @param handlers - Event handlers
     * @returns Subscription object with unsubscribe method
     */
    subscribeMarkets(assetIds: string[], handlers: MarketSubscriptionHandlers): Promise<Subscription>;
    /**
     * Subscribe to a single market (both YES and NO tokens)
     */
    subscribeMarket(yesTokenId: string, noTokenId: string, handlers: MarketSubscriptionHandlers & {
        onPairUpdate?: (update: {
            yes: PriceUpdate;
            no: PriceUpdate;
            spread: number;
        }) => void;
    }): Promise<Subscription>;
    /**
     * Get cached price for an asset
     */
    getPrice(assetId: string): PriceUpdate | undefined;
    /**
     * Get all cached prices
     */
    getAllPrices(): Map<string, PriceUpdate>;
    /**
     * Get cached order book for an asset
     */
    getBook(assetId: string): BookUpdate | undefined;
    /**
     * Get all active subscriptions
     */
    getActiveSubscriptions(): Subscription[];
    /**
     * Unsubscribe from all markets
     */
    unsubscribeAll(): Promise<void>;
    /**
     * Disconnect from WebSocket
     */
    disconnect(): void;
    /**
     * Calculate derived price from orderbook (Polymarket display logic)
     */
    private calculateDerivedPrice;
}
//# sourceMappingURL=realtime-service.d.ts.map